ğŸ”§ ImplementaÃ§Ã£o do Ansible
PrÃ©-requisitos

Sistema Linux (preferencialmente Ubuntu/Debian)
Python 3.8+ instalado
Acesso SSH aos hosts de destino
PrivilÃ©gios sudo

InstalaÃ§Ã£o do Ansible
No Ubuntu/Debian:
bash# Atualizar repositÃ³rios
sudo apt update

# Instalar dependÃªncias
sudo apt install python3-pip python3-venv -y

# Criar ambiente virtual
python3 -m venv ansible-env
source ansible-env/bin/activate

# Instalar Ansible
pip install ansible

# Verificar instalaÃ§Ã£o
ansible --version
ConfiguraÃ§Ã£o Inicial

Criar arquivo de inventÃ¡rio (/etc/ansible/hosts):

ini[windows_servers]
win-server-01 ansible_host=192.168.1.10 ansible_user=Administrator

[debian_servers]
debian-01 ansible_host=192.168.1.20 ansible_user=admin

[monitoring]
wazuh-server ansible_host=192.168.1.30 ansible_user=wazuh

[security]
kali-machine ansible_host=192.168.1.40 ansible_user=kali

[firewall]
pfsense-fw ansible_host=192.168.1.1 ansible_user=admin

Configurar SSH sem senha:

bash# Gerar chave SSH
ssh-keygen -t rsa -b 4096

# Copiar chave para hosts
ssh-copy-id admin@192.168.1.20
ssh-copy-id wazuh@192.168.1.30
ssh-copy-id kali@192.168.1.40
Estrutura de DiretÃ³rios Ansible
ansible/
â”œâ”€â”€ README.md
â”œâ”€â”€ ansible.cfg
â”œâ”€â”€ inventario/
â”‚   â”œâ”€â”€ hosts.yml
â”‚   â””â”€â”€ group_vars/
â”œâ”€â”€ playbooks/
â”‚   â”œâ”€â”€ dns-setup.yml
â”‚   â”œâ”€â”€ dhcp-setup.yml
â”‚   â”œâ”€â”€ wazuh-install.yml
â”‚   â”œâ”€â”€ kali-setup.yml
â”‚   â””â”€â”€ pfsense-config.yml
â”œâ”€â”€ roles/
â”‚   â”œâ”€â”€ common/
â”‚   â”œâ”€â”€ dns-server/
â”‚   â”œâ”€â”€ dhcp-server/
â”‚   â””â”€â”€ monitoring/
â””â”€â”€ scripts/
    â””â”€â”€ deploy-all.sh

ğŸ§ Kali Linux - Ambiente de Testes de SeguranÃ§a
InstalaÃ§Ã£o e ConfiguraÃ§Ã£o
Download e InstalaÃ§Ã£o

Baixar ISO oficial:

Acesse: https://www.kali.org/get-kali/
Escolha a versÃ£o adequada (64-bit recomendado)


InstalaÃ§Ã£o em VM:

RAM mÃ­nima: 2GB (recomendado 4GB+)
Disco: 20GB mÃ­nimo (recomendado 40GB+)
Rede: Bridge ou NAT conforme necessidade



ConfiguraÃ§Ã£o Inicial
bash# Atualizar sistema
sudo apt update && sudo apt upgrade -y

# Instalar ferramentas essenciais
sudo apt install -y curl wget git vim htop

# Configurar SSH (se necessÃ¡rio)
sudo systemctl enable ssh
sudo systemctl start ssh

# Configurar usuÃ¡rio para Ansible
sudo usermod -aG sudo kali
Ferramentas de SeguranÃ§a Essenciais
bash# Instalar metapackages do Kali
sudo apt install -y kali-tools-top10
sudo apt install -y kali-tools-web
sudo apt install -y kali-tools-information-gathering

# Ferramentas especÃ­ficas
sudo apt install -y nmap nikto sqlmap burpsuite
Playbook Ansible para Kali Linux
yaml---
- name: Configure Kali Linux Security Environment
  hosts: security
  become: yes
  tasks:
    - name: Update package cache
      apt:
        update_cache: yes
        
    - name: Install essential security tools
      apt:
        name:
          - nmap
          - nikto
          - sqlmap
          - hydra
          - john
          - aircrack-ng
        state: present
        
    - name: Configure SSH service
      service:
        name: ssh
        state: started
        enabled: yes

ğŸ”¥ pfSense - Firewall e Roteamento
InstalaÃ§Ã£o e ConfiguraÃ§Ã£o
Download e InstalaÃ§Ã£o

Obter pfSense:

Download: https://www.pfsense.org/download/
VersÃ£o recomendada: Community Edition (CE)


ConfiguraÃ§Ã£o de Hardware Virtual:

RAM: 1GB mÃ­nimo (2GB+ recomendado)
Disco: 8GB mÃ­nimo
Interfaces de rede: MÃ­nimo 2 (WAN e LAN)



ConfiguraÃ§Ã£o Inicial
bash# ConfiguraÃ§Ã£o via console (durante primeiro boot)
# 1. Configurar interfaces de rede
# 2. Definir IP da LAN (ex: 192.168.1.1/24)
# 3. Configurar senha do admin
ConfiguraÃ§Ã£o via Web Interface

Acesso inicial: https://192.168.1.1
ConfiguraÃ§Ãµes bÃ¡sicas:

Sistema â†’ Geral â†’ Hostname
Interfaces â†’ WAN/LAN
Firewall â†’ Regras



ConfiguraÃ§Ã£o de ServiÃ§os Essenciais
xml<!-- Exemplo de configuraÃ§Ã£o DHCP via pfSense -->
<dhcpd>
    <lan>
        <enable/>
        <range>
            <from>192.168.1.100</from>
            <to>192.168.1.200</to>
        </range>
        <winsserver/>
        <dnsserver>192.168.1.1</dnsserver>
        <gateway>192.168.1.1</gateway>
    </lan>
</dhcpd>
AutomaÃ§Ã£o pfSense com Ansible
yaml---
- name: Configure pfSense Firewall
  hosts: firewall
  gather_facts: no
  tasks:
    - name: Configure DHCP settings
      uri:
        url: "https://{{ ansible_host }}/api/v1/services/dhcpd"
        method: POST
        user: "{{ pfsense_user }}"
        password: "{{ pfsense_pass }}"
        body_format: json
        body:
          interface: "lan"
          range_from: "192.168.1.100"
          range_to: "192.168.1.200"
        validate_certs: no

ğŸ’¾ Sistema Operacional Extra: CentOS Stream
Por que CentOS Stream?

DistribuiÃ§Ã£o enterprise
Compatibilidade com Red Hat
Excelente para ambientes corporativos
Boa integraÃ§Ã£o com Ansible

InstalaÃ§Ã£o e ConfiguraÃ§Ã£o
Download e InstalaÃ§Ã£o

Obter CentOS Stream:

Download: https://www.centos.org/centos-stream/
VersÃ£o recomendada: Stream 9


ConfiguraÃ§Ã£o mÃ­nima:

RAM: 2GB
Disco: 20GB
Rede: ConfiguraÃ§Ã£o estÃ¡tica recomendada



ConfiguraÃ§Ã£o Inicial
bash# Atualizar sistema
sudo dnf update -y

# Instalar ferramentas essenciais
sudo dnf install -y wget curl git vim htop

# Configurar SELinux (se necessÃ¡rio)
sudo setsebool -P httpd_can_network_connect 1

# Configurar firewall
sudo firewall-cmd --permanent --add-service=ssh
sudo firewall-cmd --reload
Playbook para CentOS Stream
yaml---
- name: Configure CentOS Stream Server
  hosts: centos_servers
  become: yes
  tasks:
    - name: Update all packages
      dnf:
        name: "*"
        state: latest
        
    - name: Install EPEL repository
      dnf:
        name: epel-release
        state: present
        
    - name: Install common packages
      dnf:
        name:
          - wget
          - curl
          - git
          - vim
          - htop
          - net-tools
        state: present
        
    - name: Configure firewall
      firewalld:
        service: ssh
        permanent: yes
        state: enabled
        immediate: yes

ğŸ”§ Scripts de AutomaÃ§Ã£o Ansible
Playbook Principal (site.yml)
yaml---
- import_playbook: playbooks/common-setup.yml
- import_playbook: playbooks/dns-setup.yml
- import_playbook: playbooks/dhcp-setup.yml
- import_playbook: playbooks/wazuh-install.yml
- import_playbook: playbooks/kali-setup.yml
- import_playbook: playbooks/monitoring-setup.yml
Playbook para DNS (dns-setup.yml)
yaml---
- name: Configure DNS Server
  hosts: debian_servers
  become: yes
  vars:
    dns_domain: "lab.local"
    dns_forwarders:
      - "8.8.8.8"
      - "8.8.4.4"
  
  tasks:
    - name: Install BIND9
      apt:
        name: bind9
        state: present
        
    - name: Configure named.conf.local
      template:
        src: named.conf.local.j2
        dest: /etc/bind/named.conf.local
      notify: restart bind9
      
    - name: Create zone files
      template:
        src: "{{ item.src }}"
        dest: "{{ item.dest }}"
      loop:
        - { src: "forward.zone.j2", dest: "/etc/bind/db.{{ dns_domain }}" }
        - { src: "reverse.zone.j2", dest: "/etc/bind/db.192.168.1" }
      notify: restart bind9
      
  handlers:
    - name: restart bind9
      service:
        name: bind9
        state: restarted
Playbook para DHCP (dhcp-setup.yml)
yaml---
- name: Configure DHCP Server
  hosts: debian_servers
  become: yes
  vars:
    dhcp_subnet: "192.168.1.0"
    dhcp_netmask: "255.255.255.0"
    dhcp_range_start: "192.168.1.100"
    dhcp_range_end: "192.168.1.200"
    dhcp_gateway: "192.168.1.1"
    dhcp_dns: "192.168.1.10"
  
  tasks:
    - name: Install ISC DHCP Server
      apt:
        name: isc-dhcp-server
        state: present
        
    - name: Configure DHCP
      template:
        src: dhcpd.conf.j2
        dest: /etc/dhcp/dhcpd.conf
      notify: restart dhcp
      
    - name: Configure DHCP interface
      lineinfile:
        path: /etc/default/isc-dhcp-server
        regexp: '^INTERFACESv4='
        line: 'INTERFACESv4="eth0"'
      notify: restart dhcp
      
  handlers:
    - name: restart dhcp
      service:
        name: isc-dhcp-server
        state: restarted
Playbook para Wazuh (wazuh-install.yml)
yaml---
- name: Install and Configure Wazuh
  hosts: monitoring
  become: yes
  tasks:
    - name: Add Wazuh repository key
      apt_key:
        url: https://packages.wazuh.com/key/GPG-KEY-WAZUH
        state: present
        
    - name: Add Wazuh repository
      apt_repository:
        repo: "deb https://packages.wazuh.com/4.x/apt/ stable main"
        state: present
        
    - name: Install Wazuh Manager
      apt:
        name: wazuh-manager
        state: present
        
    - name: Start and enable Wazuh Manager
      service:
        name: wazuh-manager
        state: started
        enabled: yes
        
    - name: Install Wazuh API
      apt:
        name: wazuh-api
        state: present
        
    - name: Configure Wazuh API
      service:
        name: wazuh-api
        state: started
        enabled: yes
Script de Deploy Completo
bash#!/bin/bash
# deploy-all.sh

echo "ğŸš€ Iniciando deploy da infraestrutura..."

# Verificar conectividade
echo "ğŸ“¡ Testando conectividade com hosts..."
ansible all -m ping

# Deploy dos serviÃ§os base
echo "ğŸ”§ Configurando serviÃ§os base..."
ansible-playbook playbooks/common-setup.yml

# Deploy DNS
echo "ğŸŒ Configurando DNS..."
ansible-playbook playbooks/dns-setup.yml

# Deploy DHCP
echo "ğŸ“‹ Configurando DHCP..."
ansible-playbook playbooks/dhcp-setup.yml

# Deploy Wazuh
echo "ğŸ›¡ï¸ Instalando Wazuh..."
ansible-playbook playbooks/wazuh-install.yml

# Deploy Kali Linux
echo "ğŸ§ Configurando Kali Linux..."
ansible-playbook playbooks/kali-setup.yml

echo "âœ… Deploy concluÃ­do com sucesso!"

ğŸ“ Estrutura Completa do RepositÃ³rio
infraestrutura-servidores-redes/
â”œâ”€â”€ README.md
â”œâ”€â”€ .gitignore
â”œâ”€â”€ windows-server/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ dns/
â”‚   â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”‚   â””â”€â”€ screenshots/
â”‚   â”œâ”€â”€ dhcp/
â”‚   â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”‚   â””â”€â”€ screenshots/
â”‚   â””â”€â”€ active-directory/
â”‚       â”œâ”€â”€ instalacao.md
â”‚       â”œâ”€â”€ configuracao.md
â”‚       â””â”€â”€ screenshots/
â”œâ”€â”€ debian/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ dns/
â”‚   â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”‚   â””â”€â”€ scripts/
â”‚   â””â”€â”€ dhcp/
â”‚       â”œâ”€â”€ configuracao.md
â”‚       â””â”€â”€ scripts/
â”œâ”€â”€ wazuh/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ configuracao.md
â”‚   â””â”€â”€ screenshots/
â”œâ”€â”€ kali/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”œâ”€â”€ ferramentas.md
â”‚   â””â”€â”€ screenshots/
â”œâ”€â”€ pfsense/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ configuracao.md
â”‚   â”œâ”€â”€ firewall-rules.md
â”‚   â””â”€â”€ screenshots/
â”œâ”€â”€ centos-stream/
â”‚   â”œâ”€â”€ instalacao.md
â”‚   â”œâ”€â”€ configuracao.md
â”‚   â””â”€â”€ screenshots/
â””â”€â”€ ansible/
    â”œâ”€â”€ README.md
    â”œâ”€â”€ ansible.cfg
    â”œâ”€â”€ inventario/
    â”‚   â”œâ”€â”€ hosts.yml
    â”‚   â””â”€â”€ group_vars/
    â”œâ”€â”€ playbooks/
    â”‚   â”œâ”€â”€ site.yml
    â”‚   â”œâ”€â”€ common-setup.yml
    â”‚   â”œâ”€â”€ dns-setup.yml
    â”‚   â”œâ”€â”€ dhcp-setup.yml
    â”‚   â”œâ”€â”€ wazuh-install.yml
    â”‚   â”œâ”€â”€ kali-setup.yml
    â”‚   â””â”€â”€ pfsense-config.yml
    â”œâ”€â”€ roles/
    â”‚   â”œâ”€â”€ common/
    â”‚   â”œâ”€â”€ dns-server/
    â”‚   â”œâ”€â”€ dhcp-server/
    â”‚   â””â”€â”€ monitoring/
    â”œâ”€â”€ templates/
    â”‚   â”œâ”€â”€ dhcpd.conf.j2
    â”‚   â”œâ”€â”€ named.conf.local.j2
    â”‚   â””â”€â”€ zone-files/
    â””â”€â”€ scripts/
        â”œâ”€â”€ deploy-all.sh
        â””â”€â”€ test-connectivity.sh

ğŸ¤– Exemplo de Prompts para IA
Para CriaÃ§Ã£o de Playbooks Ansible
Prompt para DNS:
Crie um playbook Ansible completo para configurar um servidor DNS usando BIND9 no Debian 11. 
O playbook deve:
- Instalar o BIND9 e dependÃªncias
- Configurar zonas forward e reverse para o domÃ­nio "lab.local"
- Definir forwarders para 8.8.8.8 e 8.8.4.4
- Criar registros A para: server01 (192.168.1.10), server02 (192.168.1.20)
- Incluir handlers para restart do serviÃ§o
- Usar templates Jinja2 para configuraÃ§Ãµes
- Implementar verificaÃ§Ãµes de sintaxe
Prompt para DHCP:
Desenvolva um playbook Ansible para configurar um servidor DHCP usando isc-dhcp-server no Debian. 
Requisitos:
- Rede: 192.168.1.0/24
- Pool: 192.168.1.100 a 192.168.1.200
- Gateway: 192.168.1.1
- DNS: 192.168.1.10
- Lease time: 24 horas
- Reservas estÃ¡ticas para servidores crÃ­ticos
- ConfiguraÃ§Ã£o de PXE boot (opcional)
Prompt para Wazuh:
Crie um playbook Ansible para instalaÃ§Ã£o completa do Wazuh 4.x incluindo:
- Wazuh Manager
- Wazuh API  
- Elasticsearch
- Kibana
- ConfiguraÃ§Ã£o de agentes
- Regras personalizadas para monitoramento de SSH
- Dashboard bÃ¡sico
- ConfiguraÃ§Ã£o de alertas via email
Para DocumentaÃ§Ã£o
Prompt para README principal:
Gere um README.md profissional e completo para um projeto de infraestrutura de TI no GitHub que inclui:
- TÃ­tulo chamativo e badges do projeto
- DescriÃ§Ã£o detalhada do objetivo
- Arquitetura da soluÃ§Ã£o (diagrama em ASCII)
- Tecnologias utilizadas (Windows Server, Debian, Wazuh, Kali, pfSense, Ansible)
- PrÃ©-requisitos de hardware e software
- Guia de instalaÃ§Ã£o passo-a-passo
- Estrutura do repositÃ³rio explicada
- Como executar os playbooks Ansible
- Troubleshooting comum
- ContribuiÃ§Ãµes e licenÃ§a
- Equipe do projeto

ğŸ¯ Roteiro de ApresentaÃ§Ã£o PowerPoint
Slide 1: IntroduÃ§Ã£o

TÃ­tulo: "ImplementaÃ§Ã£o de Infraestrutura com AutomaÃ§Ã£o Ansible"
Equipe: Nomes e funÃ§Ãµes dos membros
Objetivo: Automatizar deploy de infraestrutura completa

Slide 2: VisÃ£o Geral da Arquitetura

Diagrama de rede
Componentes principais:

Windows Server (DNS, DHCP, AD)
Debian (DNS, DHCP)
Wazuh (Monitoramento)
Kali Linux (Pen Testing)
pfSense (Firewall)
CentOS Stream (AplicaÃ§Ãµes)



Slide 3: Estrutura do RepositÃ³rio GitHub

OrganizaÃ§Ã£o das pastas
PadrÃµes de documentaÃ§Ã£o
Controle de versÃ£o e commits

Slide 4: ImplementaÃ§Ã£o - Windows Server

Screenshots da instalaÃ§Ã£o
ConfiguraÃ§Ã£o do Active Directory
ServiÃ§os DNS e DHCP
Desafios encontrados

Slide 5: ImplementaÃ§Ã£o - Debian Linux

Processo de instalaÃ§Ã£o
ConfiguraÃ§Ã£o de serviÃ§os
ComparaÃ§Ã£o com Windows Server

Slide 6: Wazuh - Monitoramento de SeguranÃ§a

Processo de instalaÃ§Ã£o
Dashboard principal
Alertas configurados
Casos de uso

Slide 7: Kali Linux - Testes de SeguranÃ§a

Ambiente preparado
Ferramentas instaladas
Testes realizados
Vulnerabilidades encontradas

Slide 8: pfSense - Firewall e Roteamento

ConfiguraÃ§Ã£o de interfaces
Regras de firewall
VPN e roteamento
Monitoramento de trÃ¡fego

Slide 9: AutomaÃ§Ã£o com Ansible

Playbooks desenvolvidos
Demo de execuÃ§Ã£o
Tempo economizado
BenefÃ­cios da automaÃ§Ã£o

Slide 10: Uso de IA no Projeto

Ferramentas utilizadas (ChatGPT, Claude, Copilot)
Scripts gerados
DocumentaÃ§Ã£o assistida
PrÃ³s e contras

Slide 11: DemonstraÃ§Ã£o PrÃ¡tica

ExecuÃ§Ã£o do deploy completo
VerificaÃ§Ã£o dos serviÃ§os
Testes de conectividade
Monitoramento em tempo real

Slide 12: Desafios e SoluÃ§Ãµes

Problemas encontrados:

Compatibilidade entre sistemas
ConfiguraÃ§Ã£o de rede
DependÃªncias do Ansible


SoluÃ§Ãµes implementadas
LiÃ§Ãµes aprendidas

Slide 13: MÃ©tricas do Projeto

Linhas de cÃ³digo
Commits realizados
Tempo de deploy manual vs automatizado
Uptime dos serviÃ§os

Slide 14: PrÃ³ximos Passos

Melhorias planejadas
IntegraÃ§Ã£o com CI/CD
Monitoramento avanÃ§ado
Backup automatizado

Slide 15: ConclusÃ£o

Objetivos alcanÃ§ados
CompetÃªncias desenvolvidas
AplicaÃ§Ã£o no mercado de trabalho
Agradecimentos


ğŸ“š Recursos e ReferÃªncias
DocumentaÃ§Ã£o Oficial

Ansible Documentation
Wazuh Documentation
pfSense Documentation
Kali Linux Documentation

Ferramentas de IA Recomendadas

ChatGPT: GeraÃ§Ã£o de scripts e documentaÃ§Ã£o
GitHub Copilot: AssistÃªncia durante desenvolvimento
Claude: AnÃ¡lise e otimizaÃ§Ã£o de cÃ³digo

Templates e Exemplos

Ansible Galaxy
GitHub Templates
Best Practices


âœ… Checklist Final
Antes da ApresentaÃ§Ã£o

 Todos os serviÃ§os funcionando
 Playbooks testados
 DocumentaÃ§Ã£o completa
 Screenshots atualizados
 Demo preparada
 RepositÃ³rio organizado

Durante a ApresentaÃ§Ã£o

 DemonstraÃ§Ã£o prÃ¡tica funcionando
 Backup dos slides
 Acesso Ã  internet testado
 Ambiente de demo funcionando

ApÃ³s a ApresentaÃ§Ã£o

 CÃ³digo final commitado
 README atualizado
 Issues conhecidos documentados
 Feedback implementado
